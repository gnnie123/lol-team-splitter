import { useState } from "react";

function App() {
  const [players, setPlayers] = useState([]);
  const [teams, setTeams] = useState(null);
  const [showPlayers, setShowPlayers] = useState(true);

  const addPlayer = (name) => {
    if (name.trim() !== "") {
      setPlayers([...players, name.trim()]);
    }
  };

  const shuffleTeams = () => {
    if (players.length < 2) {
      alert("플레이어가 최소 2명 필요합니다.");
      return;
    }
    const shuffled = [...players].sort(() => Math.random() - 0.5);
    const half = Math.ceil(shuffled.length / 2);
    setTeams({ teamA: shuffled.slice(0, half), teamB: shuffled.slice(half) });
    setShowPlayers(false);
  };

  const resetPlayers = () => {
    setPlayers([]);
    setTeams(null);
    setShowPlayers(true);
  };

  return (
    <div style={{ maxWidth: "400px", margin: "auto", textAlign: "center", padding: "20px" }}>
      <h1>리그오브레전드 팀 나누기</h1>
      <input
        type="text"
        placeholder="플레이어 이름 입력"
        onKeyDown={(e) => {
          if (e.key === "Enter") {
            addPlayer(e.target.value);
            e.target.value = "";
          }
        }}
        style={{ width: "100%", padding: "8px", marginBottom: "10px" }}
      />
      <button onClick={shuffleTeams} style={{ marginRight: "10px" }}>팀 나누기</button>
      <button onClick={resetPlayers}>리셋</button>
      {showPlayers && (
        <div style={{ marginTop: "20px" }}>
          <h2>플레이어 리스트</h2>
          {players.map((player, index) => (
            <p key={index}>{player}</p>
          ))}
        </div>
      )}
      {teams && (
        <div style={{ marginTop: "20px" }}>
          <h2>팀 A</h2>
          <ul>
            {teams.teamA.map((player, index) => (
              <li key={index}>{player}</li>
            ))}
          </ul>
          <h2>팀 B</h2>
          <ul>
            {teams.teamB.map((player, index) => (
              <li key={index}>{player}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
}

export default App;

